<p>Spring事务的隔离级别<br> \1. ISOLATION_DEFAULT： 这是一个PlatfromTransactionManager默认的隔离级别，使用数据库默认的事务隔离级别。另外四个与JDBC的隔离级别相对应<br> \2. ISOLATION_READ_UNCOMMITTED： 这是事务最低的隔离级别，它充许令外一个事务可以看到这个事务未提交的数据。这种隔离级别会产生脏读，不可重复读和幻像读。<br> \3. ISOLATION_READ_COMMITTED： 保证一个事务修改的数据提交后才能被另外一个事务读取。另外一个事务不能读取该事务未提交的数据<br> \4. ISOLATION_REPEATABLE_READ： 这种事务隔离级别可以防止脏读，不可重复读。但是可能出现幻像读。它除了保证一个事务不能读取另一个事务未提交的数据外，还保证了避免下面的情况产生(不可重复读)。<br> \5. ISOLATION_SERIALIZABLE 这是花费最高代价但是最可靠的事务隔离级别。事务被处理为顺序执行。除了防止脏读，不可重复读外，还避免了幻像读。</p>
<p>什么是脏数据，脏读，不可重复读，幻觉读？</p>
<p>脏读: 指当一个事务正在访问数据，并且对数据进行了修改，而这种修改还没有提交到数据库中，这时，另外一个事务也访问这个数据，然后使用了这个数据。因为这个数据是还没有提交的数据， 那么另外一个事务读到的这个数据是脏数据，依据脏数据所做的操作可能是不正确的。</p>
<p><strong>脏读就是指另外一个线程的事务或者一个事务里面的下一个事务可以读到我未提交的数据。这时候如果我这个事务出现了回滚，那数据就对不上了。</strong></p>
<p><strong>不可重复读就是指，在一个事务之内，多次读取同一个数据，但是在两条语句之间有另外的事务来操作了这条语句，就会导致两次读取到值不一样。</strong></p>
<p><strong>幻读是指用同样的操作读取两次，得到的<em>记录数</em>不一样。幻读在报表统计时有影响，侧重于两次读取的记录数。insert操作也需要接管，相当于锁表。</strong></p>
<p><em>MySQL的锁机制，锁范围分类。</em></p>
<p>不可重复读: 指在一个事务内，多次读同一数据。在这个事务还没有结束时，另外一个事务也访问该同一数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的数据可能是不一样的。这样就发生了在一个事务内两次读到的数据是不一样的，因此称为是不可重复读。</p>
<p>幻觉读: 指当事务不是独立执行时发生的一种现象，例如第一个事务对一个表中的数据进行了修改，这种修改涉及到表中的全部数据行。同时，第二个事务也修改这个表中的数据，这种修改是向表中插入一行新数据。那么，以后就会发生操作第一个事务的用户发现表中还有没有修改的数据行，就好象发生了幻觉一样。</p>
<p><a href="https://www.cnblogs.com/songwenjie/p/8644599.html" target="_blank" rel="noopener">https://www.cnblogs.com/songwenjie/p/8644599.html</a></p>
<p>要记住mysql有一个autocommit参数，默认是on，他的作用是每一条单独的查询都是一个事务，并且自动开始，自动提交（执行完以后就自动结束了，如果你要适用select for update，而不手动调用 start transaction，这个for update的行锁机制等于没用，因为行锁在自动提交后就释放了）<br>————————————————<br>版权声明：本文为CSDN博主「郑泽洲」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/wxid2798226/java/article/details/81709537" target="_blank" rel="noopener">https://blog.csdn.net/wxid2798226/java/article/details/81709537</a></p>
